(()=>{"use strict";const e=window.wp.blocks,t=window.wp.blockEditor,o=window.ReactJSXRuntime;(0,e.registerBlockType)("woocommerce-catalog-enquiry/quote-button",{title:"Quote Button",icon:"button",category:"widgets",edit(){const e=(0,t.useBlockProps)();return(0,o.jsx)("div",{...e,children:(0,o.jsx)("button",{className:"add-request-quote-button",children:"Add to Quote"})})},save:()=>(0,o.jsxs)("div",{children:[(0,o.jsx)("button",{className:"add-request-quote-button",children:"Add to Quote"}),(0,o.jsx)("div",{className:"quote-message-container"})]})}),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".add-request-quote-button");e&&e.addEventListener("click",(function(e){e.preventDefault(),console.log("second");const t=document.querySelector('[data-block-name="woocommerce/single-product"]'),o=t?t.dataset.productId:null;console.log(o);const n=document.querySelector(".quantity .qty"),c=n?n.value:1,s=new URLSearchParams({action:"quote_added_in_list",product_id:o,quantity:c,quote_action:"add_item"});fetch(quote_button.ajaxurl,{method:"POST",body:s}).then((e=>e.json())).then((e=>{console.log("Response:",e.message);const t=document.querySelector(".quote-message-container");t&&(t.textContent=e.message)})).catch((e=>{console.error("Error:",e)}))}))}))})();